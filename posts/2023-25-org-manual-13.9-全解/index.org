#+SETUPFILE: ../../setup.org
#+TITLE: The Org Manual 13.9 全解
#+TITLE: @@html:<div class="yyheadimg"><img src="./103528790_p1.png" alt="load failed"></div>@@
#+DATE: [2023-01-15 Sun 16:45]
#+TAGS: blog
#+MACRO: add1 1$1
本文是对 org manual 的第 13.9 章，即由 org 导出 HTML 功能文档的讲解。如果你不能完全理解文档的内容，希望这篇文章能对你有所帮助。

从 13.1 到 13.6 是 org export 的通用知识，这里我们也会进行介绍和讲解。

本文使用的环境如下：

- emacs 28.2 x86_64 on Windows 11

* <13.1> 导出分派器（dispatcher）

通过在 org buffer 中使用 =C-c C-e= 我们可以调出导出操作界面。如果我们设置 =org-export-dispatch-use-expert-ui= 为非空值，那么只会在 minibuffer 中显示，不过可以使用 =?= 键切换回全尺寸显示。如果我们只是使用 html 导出的话，只需记住在 =C-c C-e= 后按下 =h h= 即可，如果想要在导出后在浏览器打开网页也可以 =h o= ，不过我更建议通过刷新来观察新导出的网页。使用专家模式的导出速度更快。

如果当前有 region 被选中，那么 org 只会导出被选中的区域。

org 还提供了一些选项，如 =C-a= 切换异步导出， =C-b= 切换是否仅导出 body， =C-s= 是否只导出 subtree， =C-v= 是否只导出可见部分。这些选项我一次也没有用过。

* <13.2> 导出设定
:PROPERTIES:
:CUSTOM_ID: hello
:END:
org 的导出设定有四种作用方式：用于全局的变量；用于单独文件的 buffer-local 变量；用于单独文件的 =OPTIONS= 关键字；以及用于标题的属性。下层的设定会覆盖上层设定。

可以通过 =#+SETUPFILE: filename or URL= 来在当前文件中引入其他文件中的设定。可用于 =OPTIONS= 的选项包括： =AUTHOR= ， =CREATOR= ， =DATE= ， =EMAIL= ， =LANGUAGE= ， =SELECT_TAGS= ， =EXCLUDE_TAGS= ， =TITLE= ， =EXPORT_FILE_NAME= 。除此之外， =OPTIONS= 还允许一些其他的参数，它们的介绍位于[[https://orgmode.org/manual/Export-Settings.html][这里]]，等到讲解 HTML 导出时我们再一一介绍。

* <13.3> 内容目录

可以通过 =#+OPTIONS: toc:?= 来设置是否生成目录以及生成目录的层级。 =?= 可以是数字或 =nil= ， =nil= 表示不生成目录，数字表示最多生成到多少级标题。目录会包含文档中（到最大深度）的所有标题。

一般 org 会将目录插入在第一个标题之前，若想将它移至别处，可以首先通过 =(setq org-export-with-toc nil)= 或 =#+OPTIONS: toc:nil= 关闭标题，然后把 =#+TOC: headlines N= 放在目录的期望所在地。我们也可以使用 =#+TOC: headlines N local= 来导出当前所在位置的局部目录。局部目录与全局目录不冲突，不需要指定 =#+OPTIONS: toc:nil= 。

* <13.4> 文件包含

* <13.5> 宏替换

{{{add1({{{add1(1)}}})}}}
